/**
 *
 * @package   theme_mb2mcl
 * @copyright 2020 Mariusz Boloz (https://mb2themes.com)
 * @license   Commercial https://themeforest.net/licenses
 *
 */
jQuery(document).ready(function(e){e(".mb2slides-mainslider").each(function(){var a=e(this),t=e(this).find(".mb2slides-slide-list"),s=(t.find(".mb2slides-slide-item").find(".mb2slides-caption"),t.find(">li"),t.find(".mb2slides-nextslide")),o=t.find(".mb2slides-prevslide"),i=t.data("slidescount"),l=t.data("modid"),n=t.data("mode"),r=1==t.data("auto"),d=t.data("aspeed"),c=t.data("items"),m=t.data("margin"),h=t.data("moveitems")>c?c:t.data("moveitems"),f=t.data("apause"),u=1==t.data("kpress"),b=1==t.data("loop"),p=1==t.data("aheight"),v=1==t.data("pager"),g=1==t.data("control")||2==t.data("control"),k=!!e("body").hasClass("dir-rtl"),C=k?"fa fa-angle-right":"fa fa-angle-left",y=k?"fa fa-angle-left":"fa fa-angle-right",w=c>1?[{breakpoint:768,settings:{item:c>2?2:c,slideMove:1}},{breakpoint:480,settings:{item:1,slideMove:1}}]:[];function x(){var a=e(".mb2slides"+l+" .lslide.active"),t=a.find(".mb2slides-caption");a.hasClass("active")?t.hasClass("anim1")&&t.stop().animate({top:0,bottom:0,opacity:1},350):t.stop().animate({top:15,bottom:-15,opacity:0},0)}function T(a){e(window).width()<=768?(a.addClass("mb2slides-mobile"),a.removeClass("mb2slides-desktop")):(a.removeClass("mb2slides-mobile"),a.addClass("mb2slides-desktop"))}(function e(){return"function"==typeof t.lightSliderMb2||(setTimeout(e,100),!1)})()&&i>1&&(t.lightSliderMb2({slidesVisible:!1,item:c,autoWidth:!1,slideMove:h,slideMargin:m,addClass:"",mode:n,useCSS:!0,cssEasing:"ease",easing:"linear",speed:d,auto:r,loop:b,slideEndAnimation:!0,pause:f,keyPress:u,controls:g,prevHtml:'<span class="'+C+'"></span>',nextHtml:'<span class="'+y+'"></span>',rtl:k,adaptiveHeight:p,vertical:!1,verticalHeight:500,vThumbWidth:100,pauseOnHover:!0,thumbItem:10,pager:v,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:w,onBeforeStart:function(e){},onSliderLoad:function(e){x(),a.addClass("loaded")},onAfterSlide:function(e){x()},onBeforeSlide:function(a){var t;(t=e(".mb2slides"+l+" .mb2slides-caption")).hasClass("anim1")&&t.stop().animate({top:15,bottom:-15,opacity:0},150)},onBeforeNextSlide:function(e){},onBeforePrevSlide:function(e){},onAfterReset:function(e){x()}}),s.click(function(e){e.preventDefault(),t.goToNextSlide()}),o.click(function(e){e.preventDefault(),t.goToPrevSlide()})),T(a),e(window).on("resize",function(){T(a)})}),e(".mb2notices-item.canclose").each(function(){var a=e(this),t="mb2notices-item-"+a.data("itemid"),s=a.data("cookieexpiry"),o={expires:s,path:"/"},i=a.find(".mb2notices-item-close");"hide"!==Cookies.get(t)&&a.show(),i.click(function(e){e.preventDefault(),a.slideUp(250),Cookies.set(t,"hide",o)})}),e(document).on("click",".save-location",function(){Cookies.set("mb2cg_scrollpos",window.pageYOffset,{expires:1,path:"/"})}),Cookies.get("mb2cg_scrollpos")&&(window.scrollTo(0,Cookies.get("mb2cg_scrollpos")),Cookies.remove("mb2cg_scrollpos")),e(".header-tools-btn-js").each(function(){var a=e(this),t=e(".header-tools"),s=t.find(".theme-searchform"),o=t.find(".theme-loginform"),i=t.find(".language-list"),l=t.find(".close-btn");a.click(function(a){a.preventDefault(),e("body").removeClass("header-tool-active"),e(this).hasClass("search-btn")?(o.fadeOut(150),i.fadeOut(150),t.find(".login-btn").removeClass("active"),t.find(".language-btn").removeClass("active"),e(this).hasClass("active")?(s.fadeOut(150),e(this).removeClass("active"),e("body").removeClass("header-tool-active")):(s.fadeIn(150),e(this).addClass("active"),e("body").addClass("header-tool-active"))):e(this).hasClass("login-btn")?(s.fadeOut(150),i.fadeOut(150),t.find(".search-btn").removeClass("active"),t.find(".language-btn").removeClass("active"),e(this).hasClass("active")?(o.fadeOut(150),e(this).removeClass("active"),e("body").removeClass("header-tool-active")):(o.fadeIn(150),e(this).addClass("active"),e("body").addClass("header-tool-active"))):e(this).hasClass("language-btn")&&(s.fadeOut(150),o.fadeOut(150),t.find(".search-btn").removeClass("active"),t.find(".login-btn").removeClass("active"),e(this).hasClass("active")?(i.fadeOut(150),e(this).removeClass("active"),e("body").removeClass("header-tool-active")):(i.fadeIn(150),e(this).addClass("active"),e("body").addClass("header-tool-active")))}),l.click(function(t){t.preventDefault(),e("body").removeClass("header-tool-active"),a.hasClass("login-btn")?(o.fadeOut(150),a.removeClass("active")):a.hasClass("search-btn")&&(s.fadeOut(150),a.removeClass("active"))})}),e(document).on("click","#nav-notification-popover-container > .nav-link",function(){e(".header-tools .theme-searchform").fadeOut(150),e(".header-tools .theme-loginform").fadeOut(150),e(".header-tools .language-list").fadeOut(150)}),e(".categorypicker").length>0&&e(".course-layout-switcher").length>0&&e(".categorypicker").append(e(".course-layout-switcher")),e("#frontpage-available-course-list").length>0&&e(".course-layout-switcher").length>0&&e("#frontpage-available-course-list").prepend(e(".course-layout-switcher")),e("#frontpage-course-list").length>0&&e(".course-layout-switcher").length>0&&e("#frontpage-course-list").prepend(e(".course-layout-switcher")),function(){var a="courses_layout",t=e(".course-layout-switcher"),s=t.find(">a"),o={expires:3,path:"/"};if(!e(".course-layout-switcher").length)return;"grid"===Cookies.get(a)?(e("body").addClass("course-layout-grid"),s.removeClass("active"),t.find(".grid-layout").addClass("active")):"list"===Cookies.get(a)&&(e("body").removeClass("course-layout-grid"),s.removeClass("active"),t.find(".list-layout").addClass("active"));s.click(function(t){t.preventDefault(),e(this).hasClass("grid-layout")&&!e("body").hasClass("course-layout-grid")?(e("body").addClass("course-layout-grid"),s.removeClass("active"),e(this).addClass("active"),Cookies.remove(a),Cookies.set(a,"grid",o)):e(this).hasClass("list-layout")&&e("body").hasClass("course-layout-grid")&&(e("body").removeClass("course-layout-grid"),s.removeClass("active"),e(this).addClass("active"),Cookies.remove(a),Cookies.set(a,"list",o))})}(),e("body").hasClass("pagelayout-login")&&e("#login").append(e(".potentialidps")),e(".potentialidp a").each(function(){var a=e(this).attr("title");e(this).attr("class",""),e(this).addClass("btn btn-"+a.toLowerCase())});var a="layout_sidebars",t={expires:3,path:"/"},s=e(".theme-hide-sidebar"),o=s.data("showtext"),l=s.data("hidetext");"hidden"!==Cookies.get(a)||e("body").hasClass("editing")?"shown"===Cookies.get(a)&&(e("body").removeClass("hide-sidebars"),s.text(l)):(e("body").addClass("hide-sidebars"),s.text(o)),s.click(function(s){e("body").hasClass("editing")||(e("body").hasClass("hide-sidebars")?(e("body").removeClass("hide-sidebars"),e(this).text(l),Cookies.remove(a),Cookies.set(a,"shown",t)):(e("body").addClass("hide-sidebars"),e(this).text(o),Cookies.remove(a),Cookies.set(a,"hidden",t))),s.preventDefault()}),e(".theme-slider,.mb2-pb-content-list.owl-carousel").each(function(){slider=e(this),function(a){isItems=a.data("items"),isMargin=a.data("margin"),isLoop=0!=a.data("loop"),isNav=0!=a.data("nav"),isDots=0!=a.data("dots"),isAutoplay=0!=a.data("autoplay"),isPauseTime=a.data("pausetime"),isAnimTime=a.data("animtime");var t=isItems>2?2:isItems,s=isItems>3?3:isItems,o=isItems>5?5:isItems;isRes={0:{items:1},600:{items:t},780:{items:s},1000:{items:o}};var i=e("body").hasClass("dir-rtl"),l=!1,n=['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'];i&&(l=!0,n=['<i class="fa fa-angle-right"></i>','<i class="fa fa-angle-left"></i>']);(function e(){if("function"!=typeof a.owlCarousel)return setTimeout(e,100),!1;return!0})()&&a.owlCarousel({items:isItems,margin:isMargin,loop:isLoop,nav:isNav,rtl:l,dots:isDots,autoplay:isAutoplay,responsive:isRes,autoplayHoverPause:!0,autoplayTimeout:isPauseTime,smartSpeed:isAnimTime,navText:n})}(slider)});var n=e(".theme-scrolltt"),r=n.data("scrollspeed");function d(){e(".theme-table-wrap").each(function(){e(this).find(">table").width()>e(this).width()?e(this).addClass("wider"):e(this).removeClass("wider")})}e(window).on("scroll",function(){e(this).scrollTop()>900?n.addClass("active"):n.removeClass("active")}),n.click(function(a){a.preventDefault(),e("html, body").stop().animate({scrollTop:0},r)}),e("body").hasClass("path-admin-setting")&&e(".mb2tmpl-acc-title").each(function(){e(this).click(function(a){e(this).toggleClass("active"),e(this).parent().find("> div").slideToggle(150)})}),e("table").wrap('<div class="theme-table-wrap"></div>'),e(".generaltable, .forumheaderlist, table.userenrolment").addClass("table table-striped"),e("table.collection").addClass("table table-bordered"),e("table.preference-table").addClass("table table-bordered"),e("table.rolecap").addClass("table table-bordered"),e("#categoryquestions").addClass("table table-striped"),d(),e(window).on("resize",function(){d()}),e(".embed-video-bg").each(function(){var a=e(this),t=a.parent().find(">i"),s=a.parent().find(".icon-bg");t.on("click",function(t){a.parent().find("iframe").attr("src",a.data("videourl")),e(this).fadeOut(350),a.fadeOut(350),s.fadeOut(350),t.preventDefault()})}),e(".alert-error").addClass("alert-danger"),e(".box.notifyproblem").addClass("alert"),e(".box.notifyproblem").addClass("alert-danger"),e(".box.notifyproblem").removeClass("notifyproblem"),e(".nav-tabs .nav-link").each(function(){e(this).hasClass("active")&&e(this).parent().addClass("active")}),e(".block-region").each(function(){var a='<span class="region-name">'+e(this).data("blockregion")+"</span>";e("body").hasClass("editing")&&e(this).append(a)}),e(".main-nav .theme-ddmenu").each(function(){var a=e(this),t=a.data("animtype"),s=a.data("animspeed");(function e(){return"function"==typeof a.superfish||(setTimeout(e,100),!1)})()&&a.superfish({popUpSelector:"ul",hoverClass:"mb2ctm-hover",animation:2==t?{height:"show"}:{opacity:"show"},speed:s,speedOut:"fast",cssArrows:!1})}),e(".sidebar-nav a").each(function(){var a=e(this),t=a.find(".mobile-arrow"),s=e(this).attr("href").split("");"#"===s[0]&&1==s.length&&a.parent().hasClass("dropdown")?e(this).click(function(a){a.preventDefault(),e(this).siblings("ul").slideToggle(250),e(this).toggleClass("active"),e(this).find(".mobile-arrow").toggleClass("active")}):e(t).click(function(a){a.preventDefault(),e(this).parent().siblings("ul").slideToggle(250),e(this).parent().toggleClass("active"),e(this).toggleClass("active")})}),e(document).on("click",".show-menu, .close-sidebar, .sidebar-overlay",function(a){a.preventDefault(),e("body").hasClass("sidebar-open")?e("body").removeClass("sidebar-open"):e("body").addClass("sidebar-open")}),e(document).on("click",".show-sitemenu",function(a){a.preventDefault(),e("#site-menu").slideToggle(250),e(this).toggleClass("active")});var c=e(".theme-loginform").find(".usertext"),m=e(".theme-loginform").find(".welcome_userpicture").parent();m.append(c),m.click(function(e){e.preventDefault()}),setTimeout(function(){f()},10);var h=0;function f(){var a=e(window),t=e(".sticky-header-element-offset");if(t.length>0&&(e("body").hasClass("sticky-header1")||e("body").hasClass("sticky-header2"))){var s=e("#main-header"),o=(s.parent(),t.offset().top),i=s.outerHeight(!0);a.scrollTop()>o?(t.css({height:i}),s.addClass("sticky-header-element")):(s.removeClass("sticky-header-element"),t.css({height:0}))}}e(window).scroll(function(){st=e(this).scrollTop(),st<h?(e("body").removeClass("scroll-down"),e("body").addClass("scroll-up")):(e("body").removeClass("scroll-up"),e("body").addClass("scroll-down")),h=st,f()}),e('input.mb2color, .mb2color input[type="text"]').each(function(){e(this).spectrum({showInput:!0,showButtons:!1,preferredFormat:"rgb",allowEmpty:!0,color:"",showAlpha:!0})});var u=e(".theme-iconnav").height();function b(){e("#page-outer").css({"min-height":e(window).height()})}e(".theme-iconnav").css({"margin-top":Math.ceil(u/2*-1)}),e(".theme-iconnav li").each(function(){var a=e(this).find(".link-replace"),t=(e(this).find("span.text"),e("body").hasClass("dir-rtl"));a.hover(function(){t?a.stop().animate({left:"0"},300):a.stop().animate({right:"0"},300)},function(){t?a.stop().animate({left:-a.width()},150):a.stop().animate({right:-a.width()},150)})}),b(),e(window).on("resize",function(){b()});var p={expires:3,path:"/"};function v(){var a=e(".panel-link");a.length&&(e(window).scrollTop()>a.offset().top+a.outerHeight(!0)?e("body").addClass("panellinkpass"):e("body").removeClass("panellinkpass"))}function g(){var a,t,s,o=[];e("[data-mb2showon]").each(function(){var i=e(this),l=i.data("mb2showon"),n=i.data("mb2showonval"),r=l.toString().split("|"),d=n.toString().split("|");for(a=0;a<r.length;a++)t=r[a],s=d[a],e('[name="'+t+'"]').val()==s?o[a]="yes":o[a]="no";-1!=e.inArray("yes",o)?i.closest(".form-group").show():i.closest(".form-group").hide(),o=[]})}"fs1"===Cookies.get("font_size")?e("html").addClass("theme-fs1"):"fs2"===Cookies.get("font_size")?e("html").addClass("theme-fs2"):"fs3"===Cookies.get("font_size")&&e("html").addClass("theme-fs3"),e(".theme-fontsizer a").each(function(){var a=e(this),t=a.data("size");a.click(function(a){e("html").removeClass("theme-fs1"),e("html").removeClass("theme-fs2"),e("html").removeClass("theme-fs3"),e("html").addClass("theme-fs"+t),Cookies.remove("font_size"),Cookies.set("font_size","fs"+t,p),a.preventDefault()})}),e(".theme-cpanel.fw").each(function(){e(this).closest(".container-fluid").attr("class",""),e(this).closest(".row").find(">div").attr("class",""),e(this).closest(".row").attr("class","")}),e("body").hasClass("custom-login")&&e("#login").prepend(e(".main-logo")),e(".sectionname, .section-title").each(function(){var a=e(this).find(">span>a, >a").text();e("body").hasClass("editing")||" "!==a||e(this).hide()}),e('label[for="jump-to-activity"]').closest(".m-t-2").addClass("activity-nav"),e(document).on("change",'[name="theme-search-checkbox"]',function(){var a=e(".theme-searchform"),t=e("#theme-search"),s=e("#theme-coursesearchbox"),o=a.find("label");e(this).is(":checked")?(t.attr("action",a.data("action_global")),s.attr("name","q"),o.text(o.data("globalstring"))):(t.attr("action",a.data("action_course")),s.attr("name","search"),o.text(o.data("coursesstring")))}),e("#theme-bookmarks-form").submit(function(a){var t=e(this),s=t.find("#mb2bkcreateurl").val();e.ajax({type:"GET",url:s,data:t.serialize(),beforeSend:function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeIn(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").attr("disabled","disabled")},error:function(a,t,s){setTimeout(function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeOut(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").removeAttr("disabled"),alert(a.responseText)},800)},success:function(a){if(e.isArray(a)){var t=function(a){var t="",s=[],o=e("#theme-bookmarks-form").data("rooturl"),l=e("#theme-bookmarks-form").data("pageurl"),n=e("#theme-bookmarks-form").data("pagetitle"),r=e("#theme-bookmarks-form").data("bookmarkthispage"),d=e("#theme-bookmarks-form").data("unbookmarkthispage");for(i=0;i<a.length;i++){var c=a[i].split(";");c[0]&&(t+='<li data-url="'+c[0]+'">',t+='<a class="bookmark-link" href="'+o+c[0]+'">'+c[1]+"</a>",t+='<span class="theme-bookmarks-action">',t+='<a href="#" class="theme-bookmarks-form bookmark-edit" data-url="'+c[0]+'" data-mb2bktitle="'+c[1]+'" data-toggle="modal" data-target="#theme-bookmarks-modal"><i class="fa fa-pencil"></i></a>',t+='<a href="#" class="theme-bookmarks-form bookmark-delete" data-url="'+c[0]+'" data-mb2bktitle="'+c[1]+'"><i class="fa fa-times"></i></a>',t+="</span>",t+="</li>",s[i]=c[0])}var m=e.inArray(l,s),h="",f=' data-toggle="modal" data-target="#theme-bookmarks-modal"',u=r;m>-1&&(h=" bookmark-delete",u=d,f="");return t+='<li class="theme-bookmarks-add">',t+='<a href="#" class="theme-bookmarks-form'+h+'" data-url="'+l+'" data-mb2bktitle="'+n+'"'+f+">",t+=u,t+="</a>",t+="</li>"}(a);e("ul.theme-bookmarks").html(t)}else alert(a);setTimeout(function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeOut(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").removeAttr("disabled")},800)}}),a.preventDefault()}),e(document).on("click",".theme-bookmarks-save",function(a){e("#theme-bookmarks-form").submit(),a.preventDefault()}),e(document).on("click",".theme-bookmarks-form",function(a){e("#mb2bkurl").val(e(this).data("url")),e("#mb2bktitle").val(e(this).data("mb2bktitle"));var t=e('li[data-url="'+e(this).data("url")+'"]');e(this).hasClass("bookmark-delete")?(e("#bkupdate").val(0),e("#bkdelete").val(1),e("#theme-bookmarks-form").submit()):e(this).hasClass("bookmark-edit")?(e("#bkdelete").val(0),e("#bkupdate").val(1)):t.length>0?(e("#bkdelete").val(0),e("#bkupdate").val(1),e("#mb2bktitle").val(t.find(">a").html())):(e("#bkdelete").val(0),e("#bkupdate").val(0)),a.preventDefault()}),e(".pbanimnum-item").each(function(){var a=e(this),t=a.parent().parent().data("aspeed"),s=a.find(".pbanimnum-number"),o=s.data("num"),i=!0;a.bind("inview",function(a,l){var n=e.animateNumber.numberStepFactories.separator(" ");l&&i&&(i=!1,setTimeout(function(){s.animateNumber({number:o,numberStep:n},t)},600))})}),e("form#guestlogin").parent().addClass("guestlogin-form"),e(".toggle-open").each(function(){var a=e(this).data("width"),t=e(this).parent(),s=e("body").hasClass("dir-rtl");e(this).click(function(e){e.preventDefault(),t.hasClass("closed")?(s?t.stop().animate({left:0},250):t.stop().animate({right:0},250),t.removeClass("closed"),t.addClass("opened")):(s?t.stop().animate({left:-a},250):t.stop().animate({right:-a},250),t.removeClass("opened"),t.addClass("closed"))})}),e(".boxlist>li").each(function(){var a=e(this).find(">ul");a.length&&(e(this).find(">a").append('<span class="boxlist-toggle"></span>'),e(this).find(">span").append('<span class="boxlist-toggle"></span>'))}),e(document).on("click",".boxlist-toggle",function(a){a.preventDefault(),e(this).toggleClass("active"),e(this).parent().siblings("ul").slideToggle(250)}),e(".tools-show,.tools-close").click(function(a){var t;a.preventDefault(),e(this).toggleClass("active"),(t=e(".header-tools")).hasClass("open")?t.removeClass("open"):t.addClass("open")}),v(),e(window).scroll(function(){v()}),g(),e(".felement>select").on("change",function(){g()})}),function(e){e(window).on("load",function(){var a=e(".loading-scr");setTimeout(function(){a.fadeOut(150)},a.data("hideafter"))})}(jQuery)